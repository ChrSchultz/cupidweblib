<?php require_once('../auth/user.php'); ?>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CuPID Network Status</title>
	<link rel="stylesheet" href="css/jquery.mobile-1.2.1.css" />
	<link rel="stylesheet" href="css/jqm-docs.css" />
    <link rel="stylesheet" href="css/CuPID.css" />
	<script src="js/jquery-1.7.1.min.js"></script>
	<script src="js/jqm-docs.js"></script>
	<script src="js/jquery.mobile-1.2.1.js"></script>
    <script src="/js/iijslib.js" type="text/javascript"></script> 
	<script src="/js/cupidjslib.js" type="text/javascript"></script>
</head>
<body>
<!--Record auth level-->
<script type="text/javascript">
var sessiondata = {}
sessiondata.username = "<?php if (!empty($_SESSION['user']['name'])) { echo $_SESSION['user']['name'];} ?>";
sessiondata.sessionid = "<?php if (!empty($_SESSION['user']['sessionid'])) {echo $_SESSION['user']['sessionid'];} ?>";
sessiondata.appip =  "<?php if (!empty($_SESSION['user']['appip'])) {echo $_SESSION['user']['appip'];} ?>";
sessiondata.realip =  "<?php if (!empty($_SESSION['user']['realip'])) {echo $_SESSION['user']['realip'];} ?>";

sessiondata.authlevel = handleUserAuths(sessiondata)

// <!--Log access-->
logUserAuths(sessiondata)
</script>

<div data-role="page" class="type-home" id="main">
<script>
 var updateinterval=3000
$(document).ready(function(){
 
  togglestolamps()
  //// Control Algorithms
  UpdateNetStatusData({timeout:updateinterval,jqmpage:true})
  UpdateNetConfigData({timeout:updateinterval,jqmpage:true})
  UpdateVersionsData({'timeout':updateinterval,jqmpage:true})
  UpdateMetadata({'timeout':updateinterval,jqmpage:true})
})
</script>

	<div data-role="content">
      <div class="content-secondary">
		<ul data-role="listview" data-inset="true">
            <li data-role="list-divider"><h4>Network Status</h4></li>

			<li data-role="fieldcontain"><table width="90%"><tr><td>Network Role :       </td><td align="right"><span class="netstatusmode">&nbsp</span></td></tr></table></li>
            <li data-role="fieldcontain"><table width="90%"><tr><td>SSID :       </td><td align="right"><span class="netstatusnetworkSSID">&nbsp;</span></td></tr></table></li>
			<li data-role="fieldcontain">
                <span class="justalamp">
                    <label for="netstatusconnectedtoggle" class="ui-biglabel" style="display:inline-block; width:60%; ">
                    Connected
                    </label>
                    <select name="netstatusconnectedtogle" class="netstatusconnectedtoggle" data-role="slider">
                        <option value="Off">Off</option>
                        <option value="On">On</option>
                    </select>
                </span>
            </li>
            <li data-role="fieldcontain">
                <span class="justalamp">
                    <label for="netstatusWANaccesstoggle" class="ui-biglabel" style="display:inline-block; width:60%; ">
                    WAN Access
                    </label>
                    <select name="netstatusWANaccesstogle" class="netstatusWANaccesstoggle" data-role="slider">
                        <option value="Off">Off</option>
                        <option value="On">On</option>
                    </select>
                </span>
            </li>
            <li data-role="fieldcontain"><table width="90%"><tr><td>WAN latency(ms) :   </td><td align="right"><span class="netstatuslatency">&nbsp;</span></td></tr></table></li>
            <li data-role="fieldcontain"><table width="90%"><tr><td>LAN IP :       </td><td align="right"><span class="netstatusIPAddress">&nbsp;</span></td></tr></table></li>
            <li data-role="fieldcontain"><table width="90%"><tr><td>Online since :       </td><td align="right"><span class="netstatusonlinetime">&nbsp;</span></td></tr></table></li>

            <div data-role="collapsible-set" data-inset="false" data-theme="c" data-content-theme="e">
			  <div data-role="collapsible" data-collapsed="true"  >
                <h3>Config</h3>
                <table width="90%"><tr><td width="60%"><p><strong>Enabled:    </strong></p></td>
                    <td><span class="justalamp">
                    <select name="netconfigenabledtoggle" class="netconfigenabledtoggle" data-role="slider">
                        <option value="Off">Off</option>
                        <option value="On">On</option>
                    </select>
                </span></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>SSID:    </strong></p></td><td><p><span class="netconfigSSID">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>Net Type:   </strong></p></td><td><p><span class="netconfigaddtype">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>Address Type:   </strong></p></td><td><p><span class="netconfigaddtype">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>Address:   </strong></p></td><td><p><span class="netconfigaddress">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>Gateway:   </strong></p></td><td><p><span class="netconfiggateway">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>AP Revert:   </strong></p></td><td><p><span class="netconfigaprevert">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>>AP Revert Time:   </strong></p></td><td><p><span class="netconfigapreverttime">&nbsp;</span></p></td></tr></table>
                <table width="90%"><tr><td width="60%"><p><strong>Pingthreshold:   </strong></p></td><td><p><span class="netconfigpingthreshold">&nbsp;</span></p></td></tr></table>
			  </div>
            </div>
            <li data-role="fieldcontain">
                <a href="networkedit.html" data-ajax="false">Edit Settings</a>
            </li>
          </ul>
		</div><!--/content-secondary-->
        <div class="content-primary">
		<ul data-role="listview" data-inset="true" data-theme="a" data-dividertheme="a">
            <li data-role="list-divider">
            <h4>About CuPID Controls</h4></li>
            <li>CuPID Controls<p>CuPID Controls is an <a href="interfaceinnovations.org">Interface Innovations</a> venture focused on bringing high-quality,
                affordable and powerful control hardware and software into the open-source hardware community.</p>
            </li>
            <li>On the webs
                <p>Find us online at our blog at <a href="cupidcontrols.com">CuPIDcontrols.com</a>, or on our product page at
                <a href="interfaceinnovations.org/cupidcontrols.html">interfaceinnovations.org/cupidcontrols.html</a> </p>
            </li>
            <li>Contact Us
                <p>Feel free to contact us at <a href="mailto:info@interfaceinnovations.org">info@interfaceinnovations.org</a></p>
            </li>
            <li><p>Copyright Interface Innovations, LLC</p></li>
          </ul>
		</div><!--/content-primary-->
	</div><!--content-->
</div><!-- page -->
</body>
</html>
