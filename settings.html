<?php require_once('auth/user.php'); ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><!-- InstanceBegin template="/Templates/main.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- Get me some jquery-->

<script src="/mobile/js/jquery-1.7.1.min.js"></script>


<script language="javascript" type="text/javascript" src="js/jqplot/jquery.jqplot.min.js"></script>
<link rel="stylesheet" type="text/css" href="js/jqplot/jquery.jqplot.css" />
<script type="text/javascript" src="/mobile/js/jqplot/plugins/jqplot.canvasTextRenderer.min.js"></script>
<script type="text/javascript" src="/mobile/js/jqplot/plugins/jqplot.canvasAxisLabelRenderer.min.js"></script>
<script type="text/javascript" src="/mobile/js/jqplot/plugins/jqplot.dateAxisRenderer.js"></script>
<script type="text/javascript" src="/mobile/js/jqplot/plugins/jqplot.cursor.min.js"></script>

<script src="/js/iijslib.js" type="text/javascript"></script> 
<script src="/js/cupidjslib.js" type="text/javascript"></script> 

<!--Record auth level-->
<script type="text/javascript">
// Define our usr for access control of features:
var username = "<?php if (!empty($_SESSION['user']['name'])) { echo $_SESSION['user']['name'];} ?>";
var sessionid = "<?php if (!empty($_SESSION['user']['sessionid'])) {echo $_SESSION['user']['sessionid'];} ?>";
var appip =  "<?php if (!empty($_SESSION['user']['appip'])) {echo $_SESSION['user']['appip'];} ?>";
var realip =  "<?php if (!empty($_SESSION['user']['realip'])) {echo $_SESSION['user']['realip'];} ?>";

// Set IP of current session
if (username == 'viewer') {
	authlevel=1
}
else if (username == 'controller') {
	authlevel=2
}
else if (username == 'administrator') {
	authlevel=3
}
else if (username == 'colin') {
	authlevel=4
}
else {
	authlevel=0
}
<!--Log access-->
if (authlevel > 0){
	//alert(appip + realip)
	$.ajax({
        	url: "/wsgisessioncontrol",
        	type: "post",
        	datatype:"json",						
        	data: {'sessionid':sessionid,'event':'access','username':username,'realIP':realip,'apparentIP':appip},
        	success: function(response){
        		//alert("I logged access");								
			}
    });	
}
</script>

<!-- InstanceBeginEditable name="doctitle" -->
<title>CuPID Settings</title>
<!-- InstanceEndEditable -->
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
<style media="all" type="text/css">
@import "css/all.css";
</style>
<!-- InstanceBeginEditable name="head" -->
<?php $user->require_login(); ?>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript">
</script>
<style type="text/css">
input[type="text"]{width:75px;}
</style>
<!-- Here we define some dynamic table functions -->

<SCRIPT language="javascript">
var editmode="off"
var panelupdateperiod=2000
var logdata=[]
var channelsdata=[]

// These are variables that are shared between the various settings
var inputids=[]
var algorithmtypes=[]
var outputnames=[]
var controltypes=[]
var controlalgorithms=[]
var statusdata=[]
var actauthlevel=2
var tmpobj

var stdmessage='You do not have sufficient authorization for this action'

// Here we define functions to get our shared variables

function getControlTypes() {
// Get the data
   		$.ajax({
        	url: "/wsgisqlitequery",
        	type: "post",
        	datatype:"json",						
        	data: {'database':controldatabase,'table':'algorithmtypes'},
        	success: function(response){
        		//alert("I worked");
				// Execute our callback function
				algorithmtypes=[];
				for(var i = 0; i < response.length ; i++)
				{
					algorithmtypes.push(response[i].type)
				}
			}
    	});	
}
function GetAndRenderStatusData () {
	// set a callback function to render the data on success, then go get it
	var callback= RenderStatusData
	wsgiCallbackTableData(controldatabase,'systemstatus',callback)
}
function GetAndRenderOutputsData () {
	// set a callback function to render the data on success, then go get it
	var callback= RenderOutputsData
	wsgiCallbackTableData(controldatabase,'outputs',callback)
}
function GetAndRenderChannelsData () {
	// set a callback function to render the data on success, then go get it
	var callback= RenderChannelsData
	wsgiCallbackTableData(controldatabase,'channels',callback)
}
function GetAndRenderAlgorithmsData () {
	// set a callback function to render the data on success, then go get it
	var callback= RenderAlgorithmsData
	wsgiCallbackTableData(controldatabase,'controlalgorithms',callback)
}
function RenderOutputsData (outputsdata) {
	var table = document.getElementById('outputstable')
	
	// render the output names to global variable
	outputnames=['none']
	
	for(var i = 0; i < outputsdata.length ; i++)
	{
		outputnames.push(outputsdata[i].name)
	} 
	
	// process into rows
	for(var i = table.rows.length - 1; i > 0; i--)
			{
    			table.deleteRow(i);
			}
			for (var i=0;i<outputsdata.length;i++)
		    {
				addRow('outputstable',[[outputsdata[i].outputindex,"outputindex","value"],[outputsdata[i].name,"outputname","text"],[outputsdata[i].enabled,"outputenabled","checkbox"],[outputsdata[i].status,"status","onoff"],[outputsdata[i].minontime,"minontime","text"],[outputsdata[i].minofftime,"minofftime","text"],[outputsdata[i].GPIO,"GPIO","value"],[outputsdata[i].mode,"mode","select-one",['manual','auto']]]);
		    }		
}
function RenderChannelsData (channelsdata) {
	var table = document.getElementById('channelstable')
	for(var i = table.rows.length - 1; i > 0; i--)
			{
    			table.deleteRow(i);
			}

			for (var i=0;i<channelsdata.length;i++)
		    {
				addRow('channelstable',[[0,"channelchecked","checkbox"],[channelsdata[i].channelindex,"channelindex","value"],[channelsdata[i].name,"channelname","text"],[channelsdata[i].controlinput,"controlinput","select-one",inputids],[channelsdata[i].enabled,"channelenabled","checkbox"],[channelsdata[i].controlalgorithm,"controlalgorithm","select-one", controlalgorithms],[channelsdata[i].positiveoutput,"positiveoutput","select-one",outputnames],[channelsdata[i].negativeoutput,"negativeoutput","select-one",outputnames]]);
		    }		
}
function RenderAlgorithmsData (algorithmsdata) {
	var table = document.getElementById('algorithmstable')
	
	// render algorithmnames for indicators
	controlalgorithms=[]
	for(var i = 0; i < algorithmsdata.length ; i++)
	{
		controlalgorithms.push(algorithmsdata[i].name)
	} 
	for(var i = table.rows.length - 1; i > 1; i--)
	{
    	table.deleteRow(i);
	}
	for (var i=0;i<algorithmsdata.length;i++)
	{
		// Format ::
		// div table element, [DOM name, label,input type, [select-one choices]]
		// If input type is not one of type "text","checkbox", or "select-one", indicator is assumed
		// IF indicator is assumed, third entry can be used to specify "boolean", "value" or "onoff" for indicator
				
		addRow('algorithmstable',[[algorithmsdata[i].name,"algorithmname","text"],[algorithmsdata[i].type,"type","select-one",algorithmtypes],[algorithmsdata[i].proportional,"proportional","text"],[algorithmsdata[i].integral,"integral","text"],[algorithmsdata[i].derivative,"derivative","text"],[algorithmsdata[i].deadbandhigh,"deadbandhigh","text"],[algorithmsdata[i].deadbandlow,"deadbandlow","text"],[algorithmsdata[i].dutypercent,"dutypercent","text"],[algorithmsdata[i].dutyperiod,"dutyperiod","text"]]);
		    }		
}
function RenderStatusData (statusdata) {
	var table = document.getElementById('statustable')
	
	for(var i = table.rows.length - 1; i > 1; i--)
			{
    			table.deleteRow(i);
			}
			for (var i=0;i<statusdata.length;i++)
		    {
				// Format ::
				// div table element, [DOM name, label,input type, [select-one choices]]
				// If input type is not one of type "text","checkbox", or "select-one", indicator is assumed
				// IF indicator is assumed, third entry can be used to specify "boolean", "value" or "onoff" for indicator
				
				addRow('statustable',[[statusdata[i].picontrolenabled,"picontrolenabled","checkbox"],[statusdata[i].picontrolstatus,"picontrolstatus","onoff"],[statusdata[i].picontrolfreq,"picontrolfreq","text"],[statusdata[i].lastpicontrolpoll,"lastpicontrolpoll","value"],[statusdata[i].inputsreadenabled,"inputsreadenabled","checkbox"],[statusdata[i].ipnutsreadstatus,"inputsreadstatus","onoff"],[statusdata[i].inputsreadfreq,"inputsreadfreq","text"],[statusdata[i].lastinputspoll,"lastinputspoll","value"],[statusdata[i].enableoutputs,"enableoutputs","checkbox"],[statusdata[i].systemmessage,"systemmessage","value"]]);
		    }		
}
//// Control Inputs - also do ROM display table at same time
function UpdateControlInputs() {
	var callback=RenderControlInputs
	wsgiCallbackTableData(controldatabase,'inputsdata',callback)
}
function RenderControlInputs (databaseinputstable) {
	inputids=[]
	for (var i=0; i<databaseinputstable.length;i++){
		inputids[i]=databaseinputstable[i].id
	}
	tableid="inputstable"
}
function SetStatusData(){
	queryarray=[]
	//alert(booleansToIntegerString($('.picontrolenabled').prop('checked')))
	queryarray.push('update systemstatus set picontrolenabled=\'' + booleansToIntegerString(document.getElementsByClassName("picontrolenabled").item(0).checked) + '\'')
	queryarray.push('update systemstatus set picontrolfreq=\'' + document.getElementsByClassName("picontrolfreq").item(0).value + '\'')
	queryarray.push('update systemstatus set inputsreadenabled=\'' + booleansToIntegerString(document.getElementsByClassName("inputsreadenabled").item(0).checked) + '\'')
	queryarray.push('update systemstatus set inputsreadfreq=\'' + document.getElementsByClassName("inputsreadfreq").item(0).value+ '\'')
	queryarray.push('update systemstatus set enableoutputs=\'' +  booleansToIntegerString(document.getElementsByClassName("enableoutputs").item(0).checked) + '\'')
	//alert(query)
	wsgiExecuteQueryArray (controldatabase,queryarray)
}
function SetChannelsData(){
	queryarray=[]
	for (i=0;i<document.getElementById('channelstable').rows.length-1;i++) {
		queryarray.push('update channels set name=\'' + document.getElementsByClassName("channelname").item(i).value + '\'  where channelindex=' + document.getElementsByClassName("channelindex").item(i).innerHTML)
		queryarray.push('update channels set controlinput=\'' + document.getElementsByClassName("controlinput").item(i).firstChild.value + '\'  where channelindex=' + document.getElementsByClassName("channelindex").item(i).innerHTML)
		queryarray.push('update channels set enabled=\'' + booleansToIntegerString(document.getElementsByClassName("channelenabled").item(i).checked) + '\' where channelindex=' + document.getElementsByClassName("channelindex").item(i).innerHTML)
		queryarray.push('update channels set controlalgorithm=\'' + document.getElementsByClassName("controlalgorithm").item(i).firstChild.value+ '\'  where channelindex=' + document.getElementsByClassName("channelindex").item(i).innerHTML)
		queryarray.push('update channels set positiveoutput=\'' + document.getElementsByClassName("positiveoutput").item(i).firstChild.value + '\'  where channelindex=' + document.getElementsByClassName("channelindex").item(i).innerHTML)
		queryarray.push('update channels set negativeoutput=\'' + document.getElementsByClassName("negativeoutput").item(i).firstChild.value + '\'  where channelindex=' + document.getElementsByClassName("channelindex").item(i).innerHTML)
		//alert(queryarray)
	}
	wsgiExecuteQueryArray (controldatabase,queryarray)
}
function SetOutputsData(){
	queryarray=[]
	for (i=0;i<document.getElementById('outputstable').rows.length-1;i++) {
		queryarray.push('update outputs set name=\'' + $(".outputname")[i].value + '\' where outputindex=' + $(".outputindex")[i].innerHTML)
		queryarray.push('update outputs set minontime=\'' + $(".minontime")[i].value + '\' where outputindex=' + $(".outputindex")[i].innerHTML)
		queryarray.push('update outputs set minofftime=\'' + $(".minofftime")[i].value + '\' where outputindex=' + $(".outputindex")[i].innerHTML)
		
		queryarray.push('update outputs set enabled=\'' + booleansToIntegerString($(".outputenabled")[i].checked) + '\' where outputindex=' + $(".outputindex")[i].innerHTML)
		
		queryarray.push('update outputs set mode=\'' + $(".mode")[i].firstChild.value + '\'  where outputindex=' + $(".outputindex")[i].innerHTML)
		//alert(queryarray)
	}
	wsgiExecuteQueryArray (controldatabase,queryarray)
}
function SetAlgorithmsData(){
	queryarray=[]
	for (i=0;i<document.getElementById('algorithmstable').rows.length-1;i++) {
		queryarray.push('update controlalgorithms set name=\'' + document.getElementsByClassName("algorithmname").item(i).value + '\'')
		queryarray.push('update controlalgorithms set type=\'' + document.getElementsByClassName("type").item(i).firstChild.value + '\'')
		queryarray.push('update controlalgorithms set proportional=\'' + document.getElementsByClassName("proportional").item(i).value + '\'')
		queryarray.push('update controlalgorithms set integral=\'' + document.getElementsByClassName("integral").item(i).value + '\'')
		queryarray.push('update controlalgorithms set derivative=\'' + document.getElementsByClassName("derivative").item(i).value + '\'')
		queryarray.push('update controlalgorithms set deadbandhigh=\'' + document.getElementsByClassName("deadbandhigh").item(i).value + '\'')
		queryarray.push('update controlalgorithms set deadbandlow=\'' + document.getElementsByClassName("deadbandlow").item(i).value + '\'')
		queryarray.push('update controlalgorithms set dutypercent=\'' + document.getElementsByClassName("dutypercent").item(i).value + '\'')
		queryarray.push('update controlalgorithms set dutyperiod=\'' + document.getElementsByClassName("dutyperiod").item(i).value + '\'')
		
		//alert(queryarray)
	}
	wsgiExecuteQueryArray (controldatabase,queryarray)
}

function RemoveChannel(){
	// get the channel we want to delete
	queryarray=['']
	$('.channelchecked').each(function(index,element){
		if (element.checked==true) {
			chindex = $('.channelindex').eq(index).html()
			//queryarray.push('delete from channels where \'index\'='+chindex)
			queryarray.push('delete from channels where \"channelindex\"='+chindex)
		}
	})
	alert(queryarray)
	//query="delete from channels where name=\'" + nametodelete + "\'")
	wsgiExecuteQueryArray (controldatabase,queryarray)
}

$(document).ready(function() {		
// button responses	

	$('#statusrefreshbutton').click(function(){
		//alert('I am going to update now');	
		GetAndRenderStatusData()		
	});	
	$('#channelsrefreshbutton').click(function(){
		//alert('I am going to update now');	
		GetAndRenderChannelsData()		
	});	
	$('#outputsrefreshbutton').click(function(){
		//alert('I am going to update now');		
		GetAndRenderOutputsData()		
	});	
	$('#algorithmsrefreshbutton').click(function(){
		//alert('I am going to update now');		
		GetAndRenderalgorithmsData()		
	});	
	$('#statussetdatabutton').click(function(){
		checkauth(authlevel, actauthlevel, function(){
		//alert('I am going to update now');	
		SetStatusData()	
		setTimeout(function(){GetAndRenderStatusData()},1000)
		}, stdmessage);	
	});	
	$('#channelssetdatabutton').click(function(){
		checkauth(authlevel, actauthlevel, function(){
		//alert('I am going to update now');	
		SetChannelsData()
		setTimeout(function(){GetAndRenderChannelsData()},1000)	
		}, stdmessage);	
	});	
	$('#outputssetdatabutton').click(function(){
		checkauth(authlevel, actauthlevel, function(){
		//alert('I am going to update now');		
		SetOutputsData()
		setTimeout(function(){GetAndRenderOutputsData()},1000)	
		}, stdmessage);
	});	
	$('#algorithmssetdatabutton').click(function(){
		checkauth(authlevel, actauthlevel, function(){
		//alert('I am going to update now');		
		SetalgorithmsData()	
		setTimeout(function(){GetAndRenderalgorithmsData()},1000)	
		}, stdmessage);
	});	
	$('#addchannelbutton').click(function(){
		checkauth(authlevel, actauthlevel, function(){
		//alert('I am going to update now');		
		addChannel()
		setTimeout(function(){GetAndRenderChannelsData()},1000)	
		}, stdmessage);
	});	
		$('#removechannelbutton').click(function(){
		checkauth(authlevel, actauthlevel, function(){
		//alert('I am going to update now');		
		RemoveChannel()	
		setTimeout(function(){GetAndRenderChannelsData()},1000)	
		}, stdmessage);
	});	
	// Run once at page load

	//getinputid()
	getControlTypes()
	GetAndRenderOutputsData ()
	GetAndRenderAlgorithmsData ()
	GetAndRenderStatusData ()
	UpdateControlInputs()
	setTimeout(function(){GetAndRenderChannelsData ()},1000)
	
});

</script>


<!-- InstanceEndEditable -->
</head>
<body>
<div id="main">
<!-- InstanceBeginEditable name="NavBar" -->
  <div id="header"> <a href="http://www.interfaceinnovations.org" class="logo"><img src="/images/cmstemplate/logo.png"alt="" /></a>
  
    <ul id="top-navigation">
      <li><span><span><a href="index.html">Home</a></span></span></li>
      <li><span><span><a href="controlpanel.html">Panel</a></span></span></li>
      <li><span><span><a href="smallpanel.html">SmPanel</a></span></span></li>
      <li><span><span><a href="inputs.html">Inputs</a></span></span></li>
      <li><span><span><a href="datalogs.html">Datalogs</a></span></span></li>
      <li  class="active"><span><span>Settings</span></span></li>
      <li><span><span><a href="admin.html">Admin</a></span></span></li>
      <li><span><span><a href="help.html">Help</a></span></span></li>
    </ul>
      <div id="login"><?php 
    	if($user->logged_in()): 
		?> 
        	<p>You are logged in as <?php echo $_SESSION['user']['name']; ?>. <a href="auth/logout">Log out</a></p> 
        	<?php 
		endif; 
    	if(!$user->logged_in()): 
		?> 
        	<p>You are not logged in. <a href="auth/login">Log in</a> 
		<?php 
    		endif; 
		?> 
  </div><!-- login -->
  </div>
  <!-- InstanceEndEditable -->
  <!-- InstanceBeginEditable name="MainBody" -->
  
  <div id="middle">
    <div id="full-column">
      <div class="top-bar"> 
        <h1>Settings</h1>
        <div class="breadcrumbs">All your device settings are belong to us.</div>
      </div> <!-- End top bar -->
      <br />
      
      <div class="fullcontent">
      	<table width="100%" cellpadding="0" cellspacing="0">
          <tr>
            <td>
      		  <h2>System Settings</h2>
            </td>
            <td align="right">          
              <button id="statusrefreshbutton"><b>Reload Status Data</b></button>
              <button id="statussetdatabutton">Set New Status Data</button>
            </td>
          </tr>
        </table>
      </div> <!-- fullcontent -->
     
      <div class="table fulltable" ><img src="images/cmstemplate/bg-th-left.gif" width="8" height="7" alt="" class="left" /> <img src="images/cmstemplate/bg-th-right.gif" width="7" height="7" alt="" class="right" />
        <table class="listing fulllisting" cellpadding="0" cellspacing="0" id="statustable">
          <tr>
            <th class="first" colspan="4">Pi Control</th>
            <th colspan="4">Inputs Read</th>
            <th>&nbsp;</th>
            <th class="last">&nbsp;</th>
          </tr>
          <tr>
            <th>Enabled</th>
            <th>Status</th>
            <th>Poll Freq</th>
            <th>Last Poll</th>
            <th>Enabled</th>
            <th>Status</th>
            <th>Freq (s)</th>
            <th>Last Poll</th>
            <th>Outputs Enabled</th>
            <th>System Message</th>
          </tr>
          <tr>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
          </tr>          
        </table>
    </div> <!-- full table -->
    <div class="fullcontent">
      	<table width="100%" cellpadding="0" cellspacing="0">
          <tr>
            <td>
      		  <h2>Channels</h2>
            </td>
            <td>
            	<button id="addchannelbutton" >Add Channel</button>
              <button id="removechannelbutton" >Remove Channel</button>
            </td>
            <td align="right">          
              <button id="channelsrefreshbutton" >Reload Channels Data</button>
              <button id="channelssetdatabutton" >Set New Channels Data</button>
            </td>
          </tr>
        </table>
      </div>
      <div class="table fulltable"> <img src="images/cmstemplate/bg-th-left.gif" width="8" height="7" alt="" class="left" /> <img src="images/cmstemplate/bg-th-right.gif" width="7" height="7" alt="" class="right" />
        <table class="listing fulllisting" cellpadding="0" cellspacing="0" id="channelstable">
          <tr>
            <th class="first">&nbsp;</th>
            <th>Index</th>
            <th>Name</th>
            <th>Control Input</th>
            <th>Enabled</th>
            <th>algorithm</th>
            <th>Pos. Output</th>
            <th class="last">Neg. Output</th>
          </tr>
          <tr>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
          </tr>          
        </table>
      </div> <!-- full table -->
      <div class="fullcontent">
      	<table width="100%" cellpadding="0" cellspacing="0">
          <tr>
            <td>
      		  <h2>Outputs</h2>
            </td>
            <td align="right">          
              <button id="outputsrefreshbutton">Reload Outputs Data</button>
              <button id="outputssetdatabutton">Set New Outputs Data</button>
            </td>
          </tr>
        </table>
      </div>
      <div class="table fulltable"> <img src="images/cmstemplate/bg-th-left.gif" width="8" height="7" alt="" class="left" /> <img src="images/cmstemplate/bg-th-right.gif" width="7" height="7" alt="" class="right" />
        <table class="listing fulllisting" cellpadding="0" cellspacing="0" id="outputstable">
          <tr>
            <th class="first">Index</th>
            <th>Name</th>
            <th>Enabled</th>
            <th>State</th>
            <th>Min ontime</th>
            <th>Min offtime</th>
            <th>GPIO</th>
            <th class="last">Mode</th>
          </tr>
          <tr>
            <td>value </td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
          </tr>          
        </table>
      </div> <!-- full table -->
      
      <div class="fullcontent">
      	<table width="100%" cellpadding="0" cellspacing="0">
          <tr>
            <td>
      		  <h2>Control algorithms</h2>
            </td>
            <td align="right">          
              <button id="algorithmsrefreshbutton" >Reload algorithms Data</button>
              <button id="algorithmssetdatabutton" >Set New algorithms Data</button>
            </td>
          </tr>
        </table>
      </div>
      <div class="table fulltable"> <img src="images/cmstemplate/bg-th-left.gif" width="8" height="7" alt="" class="left" /> <img src="images/cmstemplate/bg-th-right.gif" width="7" height="7" alt="" class="right" />
        <table class="listing fulllisting" cellpadding="0" cellspacing="0" id="algorithmstable">
          <tr>
            <th class="first">&nbsp;</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
            <th colspan="2">Deadband</th>
            <th>Duty %</th>
            <th class="last">Duty</th>
          </tr>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th width="20px">P</th>
            <th width="20px">I</th>
            <th width="20px">D</th>
            <th>High</th>
            <th>Low</th>
            <th>Duty Percent</th>
            <th>Duty Period</th>
          </tr>
          <tr>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
            <td>value</td>
          </tr>          
        </table>
      </div> <!-- full table -->
      
    </div>
  </div>
  <!-- InstanceEndEditable -->
  <div id="footer"></div>
</div>
</body>
<!-- InstanceEnd --></html>
